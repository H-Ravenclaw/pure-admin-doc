---
title: 前端代码规范
date: 2021-11-11 15:45:15
permalink: /pages/developguide/
article: false
---

# 一、编程规约

## (一)命名规范

### 1.1.1 项目命名

全部采用小写方式， 以中划线分隔

推荐：`huohuo-admin-demo`

不推荐：`huohuo_admin-demo / huohuoAdminDemo`

【特殊】为了提醒，某些说明文件可以使用大写，比如 README、LICENSE

### 1.1.2 目录命名

全部采用小写方式， 以中划线分隔，有复数结构时，要采用复数命名法， 缩写不用复数

推荐： `scripts / styles / components / images / utils / layouts / demo-styles / demo-scripts / img / doc`

不推荐： `script / style / demo_scripts / demoStyles / imgs / docs`

Vue 的项目中的 components 中的组件目录，使用 kebab-case 命名

推荐： `head-search / page-loading / authorized / notice-icon`

不推荐： `HeadSearch / PageLoading`

【特殊】Vue 的项目中的除 components 组件目录外的所有目录也使用 kebab-case 命名
推荐： `page-one / shopping-car / user-management`

不推荐： `ShoppingCar / UserManagement`

### 1.1.3 JS、CSS、SCSS、HTML 文件命名

全部采用小写方式， 以中划线分隔

推荐： `render-dom.js / signup.css / index.html `

不推荐： `renderDom.js / UserManagement.html`

### 1.1.4 命名严谨性

代码中的命名严禁使用拼音与英文混合的方式，更不允许直接使用中文的方式。 说明：正确的英文拼写和语法可以让阅读者易于理解，避免歧义。注意，即使纯拼音命名方式也要避免采用

推荐：`henan / luoyang / rmb 等国际通用的名称，可视同英文。`

不推荐：`DaZhePromotion [打折] / getPingfenByName() [评分] / int 某变量 = 3`

**杜绝完全不规范的缩写，避免望文不知义：**

反例：AbstractClass“缩写”命名成 AbsClass；condition“缩写”命名成 condi，此类随意缩写严重降低了代码的可阅读性。

### (二)HTML 规范

这里，Vue Template 同样适用

#### 1.2.1 HTML 类型

推荐使用 HTML5 的文档类型申明： .
（建议使用 text/html 格式的 HTML。避免使用 XHTML。XHTML 以及它的属性，比如 application/xhtml+xml 在浏览器中的应用支持与优化空间都十分有限）。

- 规定字符编码 UTF-8
- IE 兼容模式
- 规定字符编码
- doctype 大写
- HTML 文件必须加上 DOCTYPE 声明，并统一使用 HTML5 的文档声明

推荐：

```html
<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta charset="UTF-8" />
    <title>Page title</title>
  </head>
  <body>
    <img src="images/company-logo.png" alt="Company" />
  </body>
</html>
```

#### 1.2.2 缩进

缩进使用 2 个空格。嵌套的节点应该缩进。

#### 1.2.3 分块注释

在每一个块状元素，列表元素和表格元素后，加上一对 HTML 注释。注释格式

<!-- 英文 中文 start >

<!-- 英文 中文 end >
正例：

```html
<body>
  <!-- header 头部 start -->
  <header>
    <div class="container">
      <a href="#">
        <!-- 图片会把a标签给撑开，所以不用设置a标签的大小 -->
        <img src="images/header.jpg" />
      </a>
    </div>
  </header>
  <!-- header 头部 end -->
</body>
```

#### 1.2.4 语义化标签

HTML5 中新增很多语义化标签，所以优先使用语义化标签，避免一个页面都是 div 或者 p 标签

推荐

```html
<header></header>
<footer></footer>
```

不推荐

```html
<div>
  <p></p>
</div>
```

#### 1.2.5 引号

使用双引号(" ") 而不是单引号(’ ') 。

推荐： `<div class="news-div"></div>`

不推荐： `<div class='news-div'></div>`

#### 1.2.6 标签闭合

- 所有具有开始标签和结束标签的元素都要写上起止标签，某些允许省略开始标签或和束标签的元素亦都要写上。
- 空元素标签都不加 “/” 字符

#### 1.2.7 元素嵌套

- 元素嵌套规范，每个块状元素独立一行，内联元素可选
- 段落元素与标题元素只能嵌套内联元素

#### 1.2.8 注释

单行注释：

- 一般用于简单的描述，如某些状态描述、属性描述等。
- 注释内容前后各一个空格字符，注释位于要注释代码的上面，单独占一行

推荐：

```html
<!-- Comment Text -->
<div>...</div>
```

不推荐：

```html
<div>...</div>
<!-- Comment Text -->

<div>
  <!-- Comment Text -->
  ...
</div>
```

模块注释：

- 一般用于描述模块的名称以及模块开始与结束的位置
- 注释内容前后各一个空格字符，`<!-- S Comment Text -->` 表示模块开始，`<!-- E Comment Text -->` 表示模块结束，模块与模块之间相隔一行

推荐写法：

```html
<!-- S Comment Text A -->
<div class="mod_a">...</div>
<!-- E Comment Text A -->

<!-- S Comment Text B -->
<div class="mod_b">...</div>
<!-- E Comment Text B -->
```

嵌套模块注释：

当模块注释内再出现模块注释的时候，为了突出主要模块，嵌套模块

不再使用

```html
<!-- S Comment Text -->
<!-- E Comment Text -->
```

而改用

```html
<!-- /Comment Text -->
```

### (三) CSS 规范

#### 1.3.1 命名

- 类名使用小写字母，以中划线分隔
- id 采用驼峰式命名
- scss 中的变量、函数、混合、placeholder 采用驼峰式命名

ID 和 class 的名称总是使用可以反应元素目的和用途的名称，或其他通用的名称，代替表象和晦涩难懂的名称

不推荐：

```css
.fw-800 {
  font-weight: 800;
}

.red {
  color: red;
}
```

推荐:

```css
.heavy {
  font-weight: 800;
}

.important {
  color: red;
}
```

#### 1.3.2 选择器

1)css 选择器中避免使用标签名
从结构、表现、行为分离的原则来看，应该尽量避免 css 中出现 HTML 标签，并且在 css 选择器中出现标签名会存在潜在的问题。

2)很多前端开发人员写选择器链的时候不使用 直接子选择器（注：直接子选择器和后代选择器的区别）。有时，这可能会导致疼痛的设计问题并且有时候可能会很耗性能。然而，在任何情况下，这是一个非常不好的做法。如果你不写很通用的，需要匹配到 DOM 末端的选择器， 你应该总是考虑直接子选择器。

不推荐:

```css
.content .title {
  font-size: 2rem;
}
```

推荐:

```css
.content > .title {
  font-size: 2rem;
}
```

#### 1.3.3 尽量使用缩写属性

不推荐：

```css
border-top-style: none;
font-family: palatino, georgia, serif;
font-size: 100%;
line-height: 1.6;
padding-bottom: 2em;
padding-left: 1em;
padding-right: 1em;
padding-top: 0;
```

推荐：

```css
border-top: 0;
font: 100%/1.6 palatino, georgia, serif;
padding: 0 1em 2em;
```

#### 1.3.4 每个选择器及属性独占一行

不推荐：

```css
button {
  width: 100px;
  height: 50px;
  color: #fff;
  background: #00a0e9;
}
```

推荐：

```css
button {
  width: 100px;
  height: 50px;
  color: #fff;
  background: #00a0e9;
}
```

#### 1.3.5 省略 0 后面的单位

不推荐：

```css
div {
  padding-bottom: 0px;
  margin: 0em;
}
```

推荐：

```css
div {
  padding-bottom: 0;
  margin: 0;
}
```

#### 1.3.6 避免使用 ID 选择器及全局标签选择器防止污染全局样式

不推荐：

```css
#header {
  padding-bottom: 0px;
  margin: 0em;
}
```

推荐：

```css
.header {
  padding-bottom: 0px;
  margin: 0em;
}
```

#### 1.3.7 代码格式

统一使用展开格式书写样式

样式书写一般有两种：一种是紧凑格式 (Compact)

```css
.huohuo {
  display: block;
  width: 50px;
}
```

一种是展开格式（Expanded）

```css
.huohuo {
  display: block;
  width: 50px;
}
```

#### 1.3.8 易读性

为单个 css 选择器或新申明开启新行

推荐：

```css
.huohuo,
.huohuo_logo,
.huohuo_hd {
  color: #ff0;
}
.nav {
  color: #fff;
}
```

#### 1.3.9 颜色值

颜色值 rgb() rgba() hsl() hsla() rect() 中不需有空格，且取值不要带有不必要的 0

推荐：

```css
.huohuo {
  color: rgba(255, 255, 255, 0.5);
}
```

不推荐：

```css
.huohuo {
  color: rgba(255, 255, 255, 0.5);
}
```

#### 1.3.10 颜色数值简写

属性值十六进制数值能用简写的尽量用简写

推荐：

```css
.huohuo {
  color: #fff;
}
```

不推荐：

```css
.huohuo {
  color: #ffffff;
}
```

#### 1.3.11 属性书写顺序

建议遵循以下顺序：

1. 布局定位属性：display / position / float / clear / visibility / overflow
2. 自身属性：width / height / margin / padding / border / background
3. 文本属性：color / font / text-decoration / text-align / vertical-align / white- space / break-word
4. 其他属性（CSS3）：content / cursor / border-radius / box-shadow / text-shadow / background:linear-gradient …

```css
.huohuo {
  display: block;
  position: relative;
  float: left;
  width: 100px;
  height: 100px;
  margin: 0 10px;
  padding: 20px 0;
  font-family: Arial, "Helvetica Neue", Helvetica, sans-serif;
  color: #333;
  background: rgba(0, 0, 0, 0.5);
  -webkit-border-radius: 10px;
  -moz-border-radius: 10px;
  -o-border-radius: 10px;
  -ms-border-radius: 10px;
  border-radius: 10px;
}
```

#### 1.3.12 reset.css（可选）

这里你也可以参考 [*CSS* Tools: *Reset* *CSS*] 或者京东阿里的初始化 CSS 文件

移动端

```css
\* {
  -webkit-tap-highlight-color: transparent;
  outline: 0;
  margin: 0;
  padding: 0;
  vertical-align: baseline;
}
body,
h1,
h2,
h3,
h4,
h5,
h6,
hr,
p,
blockquote,
dl,
dt,
dd,
ul,
ol,
li,
pre,
form,
fieldset,
legend,
button,
input,
textarea,
th,
td {
  margin: 0;
  padding: 0;
  vertical-align: baseline;
}
img {
  border: 0 none;
  vertical-align: top;
}
i,
em {
  font-style: normal;
}
ol,
ul {
  list-style: none;
}
input,
select,
button,
h1,
h2,
h3,
h4,
h5,
h6 {
  font-size: 100%;
  font-family: inherit;
}
table {
  border-collapse: collapse;
  border-spacing: 0;
}
a {
  text-decoration: none;
  color: #666;
}
body {
  margin: 0 auto;
  min-width: 320px;
  max-width: 640px;
  height: 100%;
  font-size: 14px;
  font-family: -apple-system, Helvetica, sans-serif;
  line-height: 1.5;
  color: #666;
  -webkit-text-size-adjust: 100% !important;
  text-size-adjust: 100% !important;
}
input[type="text"],
textarea {
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
}
```

PC 端

```css
html,
body,
div,
h1,
h2,
h3,
h4,
h5,
h6,
p,
dl,
dt,
dd,
ol,
ul,
li,
fieldset,
form,
label,
input,
legend,
table,
caption,
tbody,
tfoot,
thead,
tr,
th,
td,
textarea,
article,
aside,
audio,
canvas,
figure,
footer,
header,
mark,
menu,
nav,
section,
time,
video {
  margin: 0;
  padding: 0;
}
h1,
h2,
h3,
h4,
h5,
h6 {
  font-size: 100%;
  font-weight: normal;
}
article,
aside,
dialog,
figure,
footer,
header,
hgroup,
nav,
section,
blockquote {
  display: block;
}
ul,
ol {
  list-style: none;
}
img {
  border: 0 none;
  vertical-align: top;
}
blockquote,
q {
  quotes: none;
}
blockquote:before,
blockquote:after,
q:before,
q:after {
  content: none;
}
table {
  border-collapse: collapse;
  border-spacing: 0;
}
strong,
em,
i {
  font-style: normal;
  font-weight: normal;
}
ins {
  text-decoration: underline;
}
del {
  text-decoration: line-through;
}
mark {
  background: none;
}
input::-ms-clear {
  display: none !important;
}
body {
  font: 12px/1.5 \5fae\8f6f\96c5\9ed1, \5b8b\4f53, "Hiragino Sans GB", STHeiti, "WenQuanYi Micro Hei",
    "Droid Sans Fallback", SimSun, sans-serif;
  background: #fff;
}
a {
  text-decoration: none;
  color: #333;
}
a:hover {
  text-decoration: underline;
}
```

### (四) LESS 规范

#### 1.4.1 代码组织

1.  将公共 less 文件放置在 style/less/common 文件夹

例:// color.less,common.less

2.  按以下顺序组织

1、@import;
2、变量声明;
3、样式声明;

```less
@import "mixins/size.less";

@default-text-color: #333;

.page {
  width: 960px;
  margin: 0 auto;
}
```

#### 1.4.2 避免嵌套层级过多

将嵌套深度限制在 3 级。对于超过 4 级的嵌套，给予重新评估。这可以避免出现过于详实的 CSS 选择器。
避免大量的嵌套规则。当可读性受到影响时，将之打断。推荐避免出现多于 20 行的嵌套规则出现

不推荐：

```less
.main {
  .title {
    .name {
      color: #fff;
    }
  }
}
```

推荐：

```less
.main-title {
  .name {
    color: #fff;
  }
}
```

### (五) SASS 规范

#### 1.5.1 前置规范

考虑到 SCSS 语法对 CSS 语法友好的兼容性和扩展性，我们在使用 SASS 编写样式的时候，统一使用 SCSS 语法

严格遵守上面 “CSS 规范”

SCSS 文件内

- 全部遵循 CSS 注释规范
- 不使用 `/*! */` 注释方式
- 注释内不放 SASS 变量

#### 1.5.2 嵌套规范

选择器嵌套

```scss
/* CSS */
.jdc {
}
body .jdc {
}

/* SCSS */
.jdc {
  body & {
  }
}
/* CSS */
.jdc {
}
.jdc_cover {
}
.jdc_info {
}
.jdc_info_name {
}

/* SCSS */
.jdc {
  &_cover {
  }
  &_info {
    &_name {
    }
  }
}
```

属性嵌套

```scss
/* CSS */
.jdc {
  background-color: red;
  background-repeat: no-repeat;
  background-image: url(/img/icon.png);
  background-position: 0 0;
}

/* SCSS */
.jdc {
  background: {
    color: red;
    repeat: no-repeat;
    image: url(/img/icon.png);
    position: 0 0;
  }
}
```

#### 1.5.3 变量

可复用属性尽量抽离为页面变量，易于统一维护

```scss
// CSS
.jdc {
  color: red;
  border-color: red;
}

// SCSS
$color: red;
.jdc {
  color: $color;
  border-color: $color;
}
```

#### 1.5.4 混合（mixin）

根据功能定义模块，然后在需要使用的地方通过 `@include` 调用，避免编码时重复输入代码段

```scss
// CSS
.jdc_1 {
  -webkit-border-radius: 5px;
  border-radius: 5px;
}
.jdc_2 {
  -webkit-border-radius: 10px;
  border-radius: 10px;
}

// SCSS
@mixin radius($radius: 5px) {
  -webkit-border-radius: $radius;
  border-radius: $radius;
}
.jdc_1 {
  @include radius; //参数使用默认值
}
.jdc_2 {
  @include radius(10px);
}

// CSS
.jdc_1 {
  background: url(/img/icon.png) no-repeat -10px 0;
}
.jdc_2 {
  background: url(/img/icon.png) no-repeat -20px 0;
}

// SCSS
@mixin icon($x: 0, $y: 0) {
  background: url(/img/icon.png) no-repeat $x, $y;
}
.jdc_1 {
  @include icon(-10px, 0);
}
.jdc_2 {
  @include icon(-20px, 0);
}
```

#### 1.5.5 运算规范

运算符之间空出一个空格

```scss
.jdc {
  width: 100px - 50px;
  height: 30px / 5;
}
```

注意运算单位，单位同时参与运算，所以 10px 不等于 10，乘除运算时需要特别注意

```scss
// 正确的运算格式
.jdc {
  width: 100px - 50px;
  width: 100px + 50px;
  width: 100px * 2;
  width: 100px / 2;
}
```

### (六) Javascript 规范

推荐使用最流行的 Airbnb 规范：https://github.com/lin-123/javascript。以下为一些规范相关的抽取和补充。

#### 1.5.1 命名

1. 采用小写驼峰命名 lowerCamelCase，代码中的命名均不能以下划线，也不能以下划线或美元符号结束

反例： `_name / name_ / name$`

2. 方法名、参数名、成员变量、局部变量都统一使用 lowerCamelCase 风格，必须遵从驼峰形式。

正例： `localValue / getHttpMessage() / inputUserId`

\***\*其中 method 方法命名必须是 动词 或者 动词+名词 形式\*\***

正例：`saveShopCarData /openShopCarInfoDialog`

反例：`save / open / show / go`

\***\*特此说明，增删查改，详情统一使用如下 5 个单词，不得使用其他（目的是为了统一各个端）\*\***

```
add / update / delete / detail / get
```

**附： 函数方法常用的动词:**

```
get 获取/set 设置,
add 增加/remove 删除
create 创建/destory 移除
start 启动/stop 停止
open 打开/close 关闭,
read 读取/write 写入
load 载入/save 保存,
create 创建/destroy 销毁
begin 开始/end 结束,
backup 备份/restore 恢复
import 导入/export 导出,
split 分割/merge 合并
inject 注入/extract 提取,
attach 附着/detach 脱离
bind 绑定/separate 分离,
view 查看/browse 浏览
edit 编辑/modify 修改,
select 选取/mark 标记
copy 复制/paste 粘贴,
undo 撤销/redo 重做
insert 插入/delete 移除,
add 加入/append 添加
clean 清理/clear 清除,
index 索引/sort 排序
find 查找/search 搜索,
increase 增加/decrease 减少
play 播放/pause 暂停,
launch 启动/run 运行
compile 编译/execute 执行,
debug 调试/trace 跟踪
observe 观察/listen 监听,
build 构建/publish 发布
input 输入/output 输出,
encode 编码/decode 解码
encrypt 加密/decrypt 解密,
compress 压缩/decompress 解压缩
pack 打包/unpack 解包,
parse 解析/emit 生成
connect 连接/disconnect 断开,
send 发送/receive 接收
download 下载/upload 上传,
refresh 刷新/synchronize 同步
update 更新/revert 复原,
lock 锁定/unlock 解锁
check out 签出/check in 签入,
submit 提交/commit 交付
push 推/pull 拉,
expand 展开/collapse 折叠
begin 起始/end 结束,
start 开始/finish 完成
enter 进入/exit 退出,
abort 放弃/quit 离开
obsolete 废弃/depreciate 废旧,
collect 收集/aggregate 聚集
```

3. 常量命名全部大写，单词间用下划线隔开，力求语义表达完整清楚，不要嫌名字长。

正例： `MAX_STOCK_COUNT`

反例： `MAX_COUNT`

#### 1.5.2 代码格式

1. 使用 2 个空格进行缩进

正例：

```js
if (x < y) {
  x += 10;
} else {
  x += 1;
}
```

2. 不同逻辑、不同语义、不同业务的代码之间插入一个空行分隔开来以提升可读性。

> 说明：任何情形，没有必要插入多个空行进行隔开。

#### 1.5.3 字符串

统一使用单引号(‘)，不使用双引号(“)。这在创建 HTML 字符串非常有好处：

正例:

```js
let str = "foo";
let testDiv = '<div id="test"></div>';
```

反例:

```js
let str = "foo";
let testDiv = "<div id='test'></div>";
```

#### 1.5.4 对象

1. 使用字面值创建对象

正例： `let user = {};`

反例： `let user = new Object();`

2. 使用字面量来代替对象构造器

正例：

```js
var user = {
  age: 0,
  name: 1,
  city: 3,
};
```

反例：

```js
var user = new Object();
user.age = 0;
user.name = 0;
user.city = 0;
```

3. 使用对象方法简写
4. 当需要使用对象的多个属性时，请使用解构赋值
5. 函数需要回传多个值时，请使用对象的解构，而不是数组的解构

#### 1.5.5 数组

1. 使用字面值创建数组
2. 向数组中添加元素时，请使用 `push` 方法
3. 使用拓展运算符 `...` 复制数组
4. 使用数组的 `map` 等方法时，请使用 `return` 声明，如果是单一声明语句的情况，可省略 `return`
5. 当需要使用数组的多个值时，请同样使用解构赋值

#### 1.5.6 函数

1. 请使用函数声明，而不是函数表达式
2. 不要在非函数代码块中声明函数
3. 不要使用 `arguments`，可以选择使用 `...`
4. 不要更改函数参数的值

```js
// bad
function test(opts) {
  opts = opts || {};
}
// good
function test(opts = {}) {
  // ...
}
```

5. 函数是使用最为频繁的语法结构，相对较为复杂，所以良好的注释对于理解函数的功能非常有必要（非标准）

```js
/*方法说明
 *@method 方法名
 *@for 所属类名
 *@param{参数类型}参数名 参数说明
 *@example 示例
 *@return {返回值类型} 返回值说明
 *@author 作者信息
 *@version 版本信息
 */
```

6. 一些命名规则

   | 动词 | 含义                            | 返回值                                                |
   | ---- | ------------------------------- | ----------------------------------------------------- |
   | can  | 判断是否可执行某个动作 ( 权限 ) | 函数返回一个布尔值。true：可执行；false：不可执行     |
   | has  | 判断是否含有某个值              | 函数返回一个布尔值。true：含有此值；false：不含有此值 |
   | is   | 判断是否为某个值                | 函数返回一个布尔值。true：为某个值；false：不为某个值 |
   | get  | 获取某个值                      | 函数返回一个非布尔值                                  |
   | set  | 设置某个值                      | 无返回值、返回是否设置成功或者返回链式对象            |

7. 常量

   全部大写。并使用大写字母和下划线来组合命名，下划线用以分割单词

   推荐：

   ```
    const MAX_COUNT = 10;
    const URL = 'http://www.baidu.com';
   ```

#### 1.5.7 原型

1. 使用 `class`，避免直接操作 `prototype`

   ```js
   // bad
   function Queue (contents = []) {
    this._queue = [..contents]
   }
   Queue.prototype.pop = function () {
    const value = this._queue[0]
    this._queue.splice(0, 1)
    return value

   }

   // good
   class Queue {
    constructor (contents = []) {
     this._queue = [...contents]
    }

    pop () {
     const value = this._queue[0]
     this._queue.splice(0, 1)
     return value
    }
   }
   ```

#### 1.5.8 使用 ES6,7

必须优先使用 ES6,7 中新增的语法糖和函数。这将简化你的程序，并让你的代码更加灵活和可复用。

> 必须强制使用 ES6, ES7 的新语法，比如箭头函数、import`和`export、await/async ， 解构， let ， for…of 等等

#### 1.5.9 括号

下列关键字后必须有大括号（即使代码块的内容只有一行）：if, else, for, while, do, switch, try, catch, finally, with。

正例：

```js
if (condition) {
  doSomething();
}
```

反例：

```js
if (condition) doSomething();
```

#### 1.5.10 undefined 判断

永远不要直接使用 undefined 进行变量判断；使用 typeof 和字符串’undefined’对变量进行判断。

正例：

```js
if (typeof person === 'undefined') {
    ...
}
```

反例：

```js
if (person === undefined) {
    ...
}
```

#### 1.5.11 条件判断和循环最多三层

条件判断能使用三目运算符和逻辑运算符解决的，就不要使用条件判断，但是谨记不要写太长的三目运算符。如果超过 3 层请抽成函数，并写清楚注释。

#### 1.5.12 this 的转换命名

对上下文 this 的引用只能使用’self’来命名

#### 1.5.13 慎用 console.log

因 console.log 大量使用会有性能问题，所以在非 webpack 项目中谨慎使用 log 功能

#### 1.5.14 其他禁用

1. 禁止使用 eval()
2. 禁止使用 with() {}
3. 不要修改内置对象，如 `Object` 和 `Array`

#### 1.5.15 编码风格

1. 在单行代码块中使用空格

   推荐

   ```js
   function foo() {
     return true;
   }
   if (foo) {
     bar = 0;
   }
   ```

2. 大括号风格

   ```js
   if (foo) {
     bar();
   } else {
     baz();
   }
   ```

3. 拖尾逗号

4. 逗号空格（逗号后加空格）

5. 计算属性空格

   不推荐

   ```js
   obj["foo"];
   obj["foo"];
   obj["foo"];
   ```

   推荐

   ```js
   obj["foo"];
   ```

6. 拖尾换行

   推荐

   ```js
   function func() {
     // do something
   }
   // 此处是新的一行
   ```

7. 函数调用

8. 对象字面量键值缩进

   推荐

   ```js
   var obj = { foo: "haha" };
   ```

9. 构造函数首字母大写

10. 禁止链式赋值

    不推荐

    ```js
    var a = (b = c = 1);
    ```

11. 一个声明只能有一个变量

    不推荐

    ```js
    var a, b, c;
    ```

    推荐

    ```js
    var a;
    var b;
    var c;
    ```

12. 推荐不加分号

13. 代码块前加空格

14. 函数声明前加空格

15. 操作符前后都要加空格

# 二、Vue 项目规范

### (一) Vue 编码基础

vue 项目规范以 Vue 官方规范 （https://cn.vuejs.org/v2/style-guide/） 中的 A 规范为基础，在其上面进行项目开发，故所有代码均遵守该规范。

> 请先仔细细阅读 Vue 官方规范，切记

#### 2.1.1. 组件规范

1. 组件名为多个单词。

组件名应该始终是多个单词组成（大于等于 2），且命名规范为`KebabCase`格式。
这样做可以避免跟现有的以及未来的 HTML 元素相冲突，因为所有的 HTML 元素名称都是单个单词的。

推荐：

```js
export default {
  name: "TodoItem",
  // ...
};
```

不推荐：

```js
export default {
  name: 'Todo',
  // ...
}
export default {
  name: 'todo-item',
  // ...
}
```

2. 组件文件名为 pascal-case 格式

推荐：

```vue
components/ |- my-component.vue
```

不推荐：

```vue
components/ |- myComponent.vue |- MyComponent.vue
```

3. 基础组件文件名为 base 开头，使用完整单词而不是缩写。

推荐：

```vue
components/ |- base-button.vue |- base-table.vue |- base-icon.vue
```

不推荐：

```vue
components/ |- MyButton.vuev |- VueTable.vue |- Icon.vue
```

4. 和父组件紧密耦合的子组件应该以父组件名作为前缀命名

推荐：

```vue
components/ |- todo-list.vue |- todo-list-item.vue |- todo-list-item-button.vue
|- user-profile-options.vue （完整单词）
```

不推荐：

```vue
components/ |- TodoList.vue |- TodoItem.vue |- TodoButton.vue |- UProfOpts.vue
（使用了缩写）
```

5. 在 Template 模版中使用组件，应使用 PascalCase 模式，并且使用自闭合组件。

推荐：

```vue
<!-- 在单文件组件、字符串模板和 JSX 中 -->
<MyComponent />
<Row><table :column="data"/></Row>
```

不推荐：

```vue
<my-component />
<row><table :column="data"/></row>
```

6. 组件的 data 必须是一个函数

当在组件中使用 data 属性的时候 (除了 new Vue 外的任何地方)，它的值必须是返回一个对象的函数。 因为如果直接是一个对象的话，子组件之间的属性值会互相影响。

推荐：

```js
export default {
  data() {
    return {
      name: "jack",
    };
  },
};
```

不推荐：

```js
export default {
  data: {
    name: "jack",
  },
};
```

7. Prop 定义应该尽量详细

- 必须使用 camelCase 驼峰命名
- 必须指定类型
- 必须加上注释，表明其含义
- 必须加上 required 或者 default，两者二选其一
- 如果有业务需要，必须加上 validator 验证

推荐：

```js
 props: {
  // 组件状态，用于控制组件的颜色
   status: {
     type: String,
     required: true,
     validator: function (value) {
       return [
         'succ',
         'info',
         'error'
       ].indexOf(value) !== -1
     }
   },
    // 用户级别，用于显示皇冠个数
   userLevel：{
      type: String,
      required: true
   }
}
```

8. 为组件样式设置作用域

推荐：

```js
<template>
  <button class="btn btn-close">X</button>
</template>

<!-- 使用 `scoped` 特性 -->
<style scoped>
  .btn-close {
    background-color: red;
  }
</style>
```

不推荐：

```vue
<template>
  <button class="btn btn-close">X</button>
</template>
<!-- 没有使用 `scoped` 特性 -->
<style>
.btn-close {
  background-color: red;
}
</style>
```

9. 如果特性元素较多，应该主动换行。

推荐：

```html
<MyComponent
  foo="a"
  bar="b"
  baz="c"
  foo="a"
  bar="b"
  baz="c"
  foo="a"
  bar="b"
  baz="c"
/>
```

不推荐：

```html
<MyComponent
  foo="a"
  bar="b"
  baz="c"
  foo="a"
  bar="b"
  baz="c"
  foo="a"
  bar="b"
  baz="c"
  foo="a"
  bar="b"
  baz="c"
/>
```

#### 2.1.2. 模板中使用简单的表达式

组件模板应该只包含简单的表达式，复杂的表达式则应该重构为计算属性或方法。复杂表达式会让你的模板变得不那么声明式。我们应该尽量描述应该出现的是什么，而非如何计算那个值。而且计算属性和方法使得代码可以重用。

推荐：

```vue
<template>
  <p>{{ normalizedFullName }}</p>
</template>

// 复杂表达式已经移入一个计算属性 computed: { normalizedFullName: function () {
return this.fullName.split(' ').map(function (word) { return
word[0].toUpperCase() + word.slice(1) }).join(' ') } }
```

不推荐：

```html
<template>
  <p>
    {{ fullName.split(' ').map(function (word) { return word[0].toUpperCase() +
    word.slice(1) }).join(' ') }}
  </p>
</template>
```

#### 2.1.3 指令都使用缩写形式

指令推荐都使用缩写形式，(用 : 表示 v-bind: 、用 @ 表示 v-on: 和用 # 表示 v-slot:)

推荐：

```html
<input @input="onInput" @focus="onFocus" />
```

不推荐：

```html
<input v-on:input="onInput" @focus="onFocus" />
```

#### 2.1.4 标签顺序保持一致

单文件组件应该总是让标签顺序保持为 `<template> 、<script>、 <style>`

推荐：

```vue
<template>...</template>
<script>
...
</script>
<style>
...
</style>
```

不推荐：

```vue
<template>...</template>
<style>
...
</style>
<script>
...
</script>
```

#### 2.1.5 必须为 v-for 设置键值 key（Vue3.x 不需要了）

#### 2.1.6 v-show 与 v-if 选择

如果运行时，需要非常频繁地切换，使用 v-show ；如果在运行时，条件很少改变，使用 v-if。

#### 2.1.7 script 标签内部结构顺序

components > props > data > computed > watch > filter > 钩子函数（钩子函数按其执行顺序） > methods

#### 2.1.8 Vue Router 规范

1. 页面跳转数据传递使用路由参数

页面跳转，例如 A 页面跳转到 B 页面，需要将 A 页面的数据传递到 B 页面，推荐使用 路由参数进行传参，而不是将需要传递的数据保存 vuex，然后在 B 页面取出 vuex 的数据，因为如果在 B 页面刷新会导致 vuex 数据丢失，导致 B 页面无法正常显示数据。

正例：

```js
let id = " 123";
this.$router.push({ name: "userCenter", query: { id: id } });
```

2. 使用路由懒加载（延迟加载）机制

```
    {
        path: '/uploadAttachment',
        name: 'uploadAttachment',
        meta: {
          title: '上传附件'
        },
        component: () => import('@/view/components/uploadAttachment/index.vue')
      },
```

3. router 中的命名规范

path、childrenPoints 命名规范采用`kebab-case`命名规范（尽量 vue 文件的目录结构保持一致，因为目录、文件名都是`kebab-case`，这样很方便找到对应的文件）

name 命名规范采用`KebabCase`命名规范且和 component 组件名保持一致！（因为要保持 keep-alive 特性，keep-alive 按照 component 的 name 进行缓存，所以两者必须高度保持一致）

```js
// 动态加载
export const reload = [
  {
    path: "/reload",
    name: "reload",
    component: Main,
    meta: {
      title: "动态加载",
      icon: "icon iconfont",
    },

    children: [
      {
        path: "/reload/smart-reload-list",
        name: "SmartReloadList",
        meta: {
          title: "SmartReload",
          childrenPoints: [
            {
              title: "查询",
              name: "smart-reload-search",
            },
            {
              title: "执行reload",
              name: "smart-reload-update",
            },
            {
              title: "查看执行结果",
              name: "smart-reload-result",
            },
          ],
        },
        component: () =>
          import("@/views/reload/smart-reload/smart-reload-list.vue"),
      },
    ],
  },
];
```

4. router 中的 path 命名规范

path 除了采用`kebab-case`命名规范以外，必须以 / 开头，即使是 children 里的 path 也要以 / 开头。如下示例

-

目的：

经常有这样的场景：某个页面有问题，要立刻找到这个 vue 文件，如果不用以/开头，path 为 parent 和 children 组成的，可能经常需要在 router 文件里搜索多次才能找到，而如果以/开头，则能立刻搜索到对应的组件

-

```
{
    path: '/file',
    name: 'File',
    component: Main,
    meta: {
      title: '文件服务',
      icon: 'ios-cloud-upload'
    },
    children: [
      {
        path: '/file/file-list',
        name: 'FileList',
        component: () => import('@/views/file/file-list.vue')
      },
      {
        path: '/file/file-add',
        name: 'FileAdd',
        component: () => import('@/views/file/file-add.vue')
      },
      {
        path: '/file/file-update',
        name: 'FileUpdate',
        component: () => import('@/views/file/file-update.vue')
      }
    ]
  }
```

### (二) Vue 项目目录规范

#### 2.2.1 基础

vue 项目中的所有命名一定要与后端命名统一。

比如权限：后端 privilege, 前端无论 router , store, api 等都必须使用 privielege 单词！

#### 2.2.2 使用 Vue-cli 脚手架或 Vite

使用 vue-cli3 或 Vite 来初始化项目，项目名按照上面的命名规范。

#### 2.2.3 目录说明（初版参考，待修正）

目录名按照上面的命名规范，其中 components 组件用大写驼峰，其余除 components 组件目录外的所有目录均使用 kebab-case 命名。

```
src                               源码目录
|-- api                              所有api接口
|-- assets                           静态资源，images, icons, styles等
|-- components                       公用组件
|-- config                           配置信息
|-- constants                        常量信息，项目所有Enum, 全局常量等
|-- directives                       自定义指令
|-- filters                          过滤器，全局工具
|-- datas                            模拟数据，临时存放
|-- lib                              外部引用的插件存放及修改文件
|-- mock                             模拟接口，临时存放
|-- plugins                          插件，全局使用
|-- router                           路由，统一管理
|-- store                            vuex, 统一管理
|-- themes                           自定义样式主题
|-- views                            视图目录
|   |-- role                             role模块名
|   |-- |-- role-list.vue                    role列表页面
|   |-- |-- role-add.vue                     role新建页面
|   |-- |-- role-update.vue                  role更新页面
|   |-- |-- index.less                      role模块样式
|   |-- |-- components                      role模块通用组件文件夹
|   |-- employee                         employee模块
```

1. api 目录

- 文件、变量命名要与后端保持一致。
- 此目录对应后端 API 接口，按照后端一个 controller 一个 api js 文件。若项目较大时，可以按照业务划分子目录，并与后端保持一致。
- api 中的方法名字要与后端 api url 尽量保持语义高度一致性。
- 对于 api 中的每个方法要添加注释，注释与后端 swagger 文档保持一致。

正例：

后端 url： EmployeeController.java

```
/employee/add
/employee/delete/{id}
/employee/update
```

前端： employee.js

```js
  // 添加员工
  addEmployee: (data) => {
    return postAxios('/employee/add', data)
  },
  // 更新员工信息
  updateEmployee: (data) => {
    return postAxios('/employee/update', data)
  },
    // 删除员工
  deleteEmployee: (employeeId) => {
    return postAxios('/employee/delete/' + employeeId)
   },
```

2. assets 目录

assets 为静态资源，里面存放 images, styles, icons 等静态资源，静态资源命名格式为 kebab-case

```
|assets
|-- icons
|-- images
|   |-- background-color.png
|   |-- upload-header.png
|-- styles
```

3. components 目录

此目录应按照组件进行目录划分，目录命名为 KebabCase，组件命名规则也为 KebabCase

```
|components
|-- error-log
|   |-- index.vue
|   |-- index.less
|-- markdown-editor
|   |-- index.vue
|   |-- index.js
|-- kebab-case
```

4. constants 目录

此目录存放项目所有常量，如果常量在 vue 中使用，请使用 vue-enum 插件(https://www.npmjs.com/package/vue-enum)

目录结构：

```
|constants
|-- index.js
|-- role.js
|-- employee.js
```

例子： employee.js

```
export const EMPLOYEE_STATUS = {
  NORMAL: {
    value: 1,
    desc: '正常'
  },
  DISABLED: {
    value: 1,
    desc: '禁用'
  },
  DELETED: {
    value: 2,
    desc: '已删除'
  }
};

export const EMPLOYEE_ACCOUNT_TYPE = {
  QQ: {
    value: 1,
    desc: 'QQ登录'
  },
  WECHAT: {
    value: 2,
    desc: '微信登录'
  },
  DINGDING: {
    value: 3,
    desc: '钉钉登录'
  },
  USERNAME: {
    value: 4,
    desc: '用户名密码登录'
  }
};

export default {
  EMPLOYEE_STATUS,
  EMPLOYEE_ACCOUNT_TYPE
};
```

5. router 与 store 目录

这两个目录一定要将业务进行拆分，不能放到一个 js 文件里。

router 尽量按照 views 中的结构保持一致

store 按照业务进行拆分不同的 js 文件

6. views 目录

- 命名要与后端、router、api 等保持一致
- components 中组件要使用 PascalCase 规则

```
|-- views                            视图目录
|   |-- role                             role模块名
|   |   |-- role-list.vue                    role列表页面
|   |   |-- role-add.vue                     role新建页面
|   |   |-- role-update.vue                  role更新页面
|   |   |-- index.less                      role模块样式
|   |   |-- components                      role模块通用组件文件夹
|   |   |   |-- role-header.vue                        role头部组件
|   |   |   |-- role-modal.vue                         role弹出框组件
|   |-- employee                         employee模块
|   |-- behavior-log                      行为日志log模块
|   |-- code-generator                    代码生成器模块
```

#### 2.2.4 注释说明

整理必须加注释的地方

- 公共组件使用说明
- api 目录的接口 js 文件必须加注释
- store 中的 state, mutation, action 等必须加注释
- vue 文件中的 template 必须加注释，若文件较大添加 start end 注释
- vue 文件的 methods，每个 method 必须添加注释
- vue 文件的 data, 非常见单词要加注释

#### 2.2.5 其他

1. 尽量不要手动操作 DOM

因使用 vue 框架，所以在项目开发中尽量使用 vue 的数据驱动更新 DOM，尽量（不到万不得已）不要手动操作 DOM，包括：增删改 dom 元素、以及更改样式、添加事件等。

2. 删除无用代码

因使用了 git/svn 等代码版本工具，对于无用代码必须及时删除，例如：一些调试的 console 语句、无用的弃用功能代码。

# 三、规范配置

## （一）代码规范

### 3.1.1 集成 EditorConfig 配置

痛点解决：为不同编辑器上处理同一项目的多个开发人员维护一致的编码风格

官网：[editorconfig.org](https://link.juejin.cn/?target=http%3A%2F%2Feditorconfig.org)

VSCode 插件安装：**EditorConfig for VS Code**

在项目根目录下增加 `.editorconfig` 文件：

```
# Editor configuration, see http://editorconfig.org

\# 表示是最顶层的 EditorConfig 配置文件
root = true

[*] # 表示所有文件适用
charset = utf-8 # 设置文件字符集为 utf-8
indent_style = space # 缩进风格（tab | space）
indent_size = 2 # 缩进大小
end_of_line = lf # 控制换行类型(lf | cr | crlf)
trim_trailing_whitespace = true # 去除行首的任意空白字符
insert_final_newline = true # 始终在文件末尾插入一个新行

[*.md] # 表示仅 md 文件适用以下规则
max_line_length = off
trim_trailing_whitespace = false
```

### 3.1.2 Prettier 配置

痛点解决：代码格式化工具，支持 JavaScript、TypeScript、CSS、SCSS、Less、JSX、Angular、Vue、GraphQL、JSON、Markdown 等语言

官网：[prettier.io/](https://link.juejin.cn/?target=http%3A%2F%2Feditorconfig.org)

VSCode 插件安装： **Prettier - Code formatter**

项目中再安装：

```
npm i prettier -D
```

在项目根目录下增加 .prettierrc 文件（参考配置）：

```
{
  "useTabs": false,
  "tabWidth": 2,
  "printWidth": 100,
  "singleQuote": true,
  "trailingComma": "none",
  "bracketSpacing": true,
  "semi": true,
  "vueIndentScriptAndStyle": true,
  "jsxBracketSameLine": false,
  "jsxSingleQuote": false,
  "arrowParens": "always",
  "insertPragma": false,
  "requirePragma": false,
  "proseWrap": "never",
  "htmlWhitespaceSensitivity": "strict",
  "endOfLine": "auto",
  "rangeStart": 0
}
```

### 3.1.3 ESLint 配置

痛点解决：语法检查，代码检测

官网：[prettier.io/](https://link.juejin.cn/?target=http%3A%2F%2Feditorconfig.org)

VSCode 插件安装： ESLint

项目中再安装：

```
npm i eslin -D
```

配置：

执行命令

```
npx eslint --init
```

依次选择：

1. **To check syntax, find problems, and enforce code style（检查语法、发现问题并强制执行代码风格）**
2. **JavaScript modules (import/export)**
3. **Vue.js**
4. use TypeScript
5. code run : **Browser 和 Node**（按空格键进行选择，选完按回车键确定）
6. **Use a popular style guide**
7. style guide: **Airbnb**
8. format config file : **JavaScript**
9. 选择 Yes 开始自动安装（或者手动 npm i @typescript-eslint/eslint-plugin @typescript-eslint/parser eslint-config-airbnb-base eslint-plugin-import eslint-plugin-vue -D

配置文件 `.eslintrc.js`

```js
module.exports = {
  root: true,
  env: {
    browser: true,
    es2021: true,
    node: true,
  },
  extends: [
    "plugin:vue/essential",
    "airbnb-base",
    "plugin:prettier/recommended", // 添加 prettier 插件
  ],
  parser: "vue-eslint-parser",
  parserOptions: {
    ecmaVersion: 12,
    parser: "@typescript-eslint/parser",
    sourceType: "module",
    jsxPragma: "React",
    ecmaFeatures: {
      jsx: true,
    },
  },
  plugins: ["vue", "@typescript-eslint"],
  rules: {
    "import/no-unresolved": "off",
    "import/extensions": "off",
    "import/no-absolute-path": "off",
    "import/no-extraneous-dependencies": "off",
    "vue/script-setup-uses-vars": "error",
    "@typescript-eslint/ban-ts-ignore": "off",
    "@typescript-eslint/explicit-function-return-type": "off",
    "@typescript-eslint/no-explicit-any": "off",
    "@typescript-eslint/no-var-requires": "off",
    "@typescript-eslint/no-empty-function": "off",
    "vue/custom-event-name-casing": "off",
    "no-use-before-define": "off",
    "@typescript-eslint/no-use-before-define": "off",
    "@typescript-eslint/ban-ts-comment": "off",
    "@typescript-eslint/ban-types": "off",
    "@typescript-eslint/no-non-null-assertion": "off",
    "@typescript-eslint/explicit-module-boundary-types": "off",
    "@typescript-eslint/no-unused-vars": [
      "error",
      {
        argsIgnorePattern: "^_",
        varsIgnorePattern: "^_",
      },
    ],
    "no-unused-vars": [
      "error",
      {
        argsIgnorePattern: "^_",
        varsIgnorePattern: "^_",
      },
    ],
    "space-before-function-paren": "off",

    "vue/attributes-order": "off",
    "vue/one-component-per-file": "off",
    "vue/html-closing-bracket-newline": "off",
    "vue/max-attributes-per-line": "off",
    "vue/multiline-html-element-content-newline": "off",
    "vue/singleline-html-element-content-newline": "off",
    "vue/attribute-hyphenation": "off",
    "vue/require-default-prop": "off",
    "vue/html-self-closing": [
      "error",
      {
        html: {
          void: "always",
          normal: "never",
          component: "always",
        },
        svg: "always",
        math: "always",
      },
    ],
  },
};
```

### 3.1.4 解决 Prettier 和 ESLint 冲突

确定优先级：Prettier 配置规则`>`ESLint 配置规则

安装插件

```bash
npm i eslint-plugin-prettier eslint-config-prettier -D
```

在 `.eslintrc.js` 添加 prettier 插件

```js
module.exports = {
  ...
  extends: [
    'plugin:vue/essential',
    'airbnb-base',
    'plugin:prettier/recommended' // 添加 prettier 插件
  ],
  ...
}
```

### 3.1.5 husky 和 lint-staged 限制（可选）

痛点解决：在本地执行 `git commit` 的时候，就对所提交的代码进行 ESLint 检测和修复（即执行 `eslint --fix`），如果这些代码没通过 ESLint 规则校验，则禁止提交。

配置 husky

- 自动配置（推荐）

  使用 `husky-init` 命令快速在项目初始化一个 husky 配置。

  ```bash
  npx husky-init && npm install
  ```

我们要做到只用 ESLint 修复自己此次写的代码，而不去影响其他的代码。所以我们还需借助 **lint-staged**

它可以让 husky 的 `hook` 触发的命令只作用于 `git add`的那些文件（即 git 暂存区的文件），而不会影响到其他文件

配置 lint-staged

1. 安装 lint-staged

```bash
npm i lint-staged -D
复制代码
```

2. 在 `package.json`里增加 lint-staged 配置项

```json
"lint-staged": {
  "*.{vue,js,ts}": "eslint --fix"
},
复制代码
```

这行命令表示：只对 git 暂存区的 `.vue`、`.js`、`.ts` 文件执行 `eslint --fix`。

3. 修改 `.husky/pre-commit` hook 的触发命令为：`npx lint-staged`

## （二）提交规范

统一了代码规范，为了进一步保证仓库代码质量（尤其是多人协助的情况下），需要控制代码的提交环节，把握提交信息的一致性和正确性。

关键点就是控制 git commit 这个环节

如果 `git commit` 的描述信息精准，在后期维护和 Bug 处理时会变得有据可查，项目开发周期内还可以根据规范的提交信息快速生成开发日志，从而方便我们追踪项目和把控进度。

我们使用 Angular 团队提交规范

### **3.2.1 commit message 格式规范**

commit message 由 Header、Body、Footer 组成。

```
<Header>

<Body>

<Footer>
复制代码
```

**Header**

Header 部分包括三个字段 type（必需）、scope（可选）和 subject（必需）。

```
<type>(<scope>): <subject>
复制代码
```

**type**

type 用于说明 commit 的提交类型（必须是以下几种之一）。

| 值       | 描述                                                                                   |
| -------- | -------------------------------------------------------------------------------------- |
| feat     | 新增一个功能                                                                           |
| fix      | 修复一个 Bug                                                                           |
| docs     | 文档变更                                                                               |
| style    | 代码格式（不影响功能，例如空格、分号等格式修正）                                       |
| refactor | 代码重构                                                                               |
| perf     | 改善性能                                                                               |
| test     | 测试                                                                                   |
| build    | 变更项目构建或外部依赖（例如 scopes: webpack、gulp、npm 等）                           |
| ci       | 更改持续集成软件的配置文件和 package 中的 scripts 命令，例如 scopes: Travis, Circle 等 |
| chore    | 变更构建流程或辅助工具                                                                 |
| revert   | 代码回退                                                                               |

注意:

commit 时， type 后面必须是英文的冒号，并且需要敲一个空格，否则会出现检查错误导致不断通过

**scope**

scope 用于指定本次 commit 影响的范围。scope 依据项目而定，例如在业务项目中可以依据菜单或者功能模块划分，如果是组件库开发，则可以依据组件划分。（scope 可省略）

**subject**

subject 是本次 commit 的简洁描述，长度约定在 50 个字符以内，通常遵循以下几个规范：

- 用动词开头，第一人称现在时表述，例如：change 代替 changed 或 changes
- 第一个字母小写
- 结尾不加句号（.）

**Body**

body 是对本次 commit 的详细描述，可以分成多行。（body 可省略）

跟 subject 类似，用动词开头，body 应该说明修改的原因和更改前后的行为对比。

**Footer**

如果本次提交的代码是突破性的变更或关闭缺陷，则 Footer 必需，否则可以省略。

- 突破性的变更

  当前代码与上一个版本有突破性改变，则 Footer 以 BREAKING CHANGE 开头，后面是对变动的描述、以及变动的理由。

- 关闭缺陷

  如果当前提交是针对特定的 issue，那么可以在 Footer 部分填写需要关闭的单个 issue 或一系列 issues。

**参考例子**

- feat

  ```
  feat(browser): onUrlChange event (popstate/hashchange/polling)

  Added new event to browser:
  - forward popstate event if available
  - forward hashchange event if popstate not available
  - do polling when neither popstate nor hashchange available

  Breaks $browser.onHashChange, which was removed (use onUrlChange instead)
  ```

- fix

  ```
  fix(compile): couple of unit tests for IE9

  Older IEs serialize html uppercased, but IE9 does not...
  Would be better to expect case insensitive, unfortunately jasmine does
  not allow to user regexps for throw expectations.

  Closes #392
  Breaks foo.bar api, foo.baz should be used instead
  ```

- style

  ```
  style(location): add couple of missing semi colons
  ```

- chore

  ```
  chore(release): v3.4.2
  ```
