---
title: 目录说明
date: 2021-10-28 18:39:52
permalink: /pages/document
article: false
---

## 结构总览

```

├── .github (可选)                                          # GitHub Actions 配置文件
├── .husky (可选)                                           # 提交校验配置文件
├── .vscode (可选)								       # IDE工具推荐配置文件（开发辅助）
├── build											   👉 跨域代理配置
├── mock                                                    # mock 模拟后台数据
├── node_modules                                            # 模块包
├── public                                                  # 静态资源
├── src										            👉 项目源代码
├── types                                                   # 全局 TS 类型配置
├── .editorconfig                                           # 编辑器读取文件格式及样式定义配置
├── .env                                                    # 环境变量配置
├── .env.development
├── .env.production
├── .eslintignore                                           # eslint 语法检查忽略文件
├── .eslintrc.js                                            # eslint 语法检查配置
├── .gitignore                                              # git 提交忽略文件
├── .gitpod.yml（可选）
├── .markdownlint.json                                      # markdown 格式检查配置
├── .prettierrc.js                                          # prettier 插件配置
├── .stylelintignore								     # stylelint 插件检查忽略文件
├── babel.config.js                                         # babel 编译配置(移除 console)
├── CHANGELOG.en_US.md（可选）
├── CHANGELOG.md（可选）
├── CHANGELOG.zh_CN.md                                      # 改动日志记录
├── commitlint.config.js                                    # git 提交检查配置
├── index.html											# html 主入口
├── LICENSE（可选）                                          # 证书
├── package.json                                            # 依赖包管理 JSON 文件
├── pnpm-lock.yaml                                          # 依赖包版本内容锁定文件(不要改动！)
├── postcss.config.js                                       # postcss 插件配置
├── README.en-US.md（可选）
├── README.md                                               # README
├── stylelint.config.js                                     # stylelint 插件配置
├── tsconfig.json                                           # ts 配置
└── vite.config.ts                                          # vite 配置


```

## 目录概述

### 前置

- .github：这里是 Github Actions 相关的操作建议，主要包括向项目提出问题的规范操作，以及 git 使用的工作流配置

```
├── .github (可选)									# GitHub Actions 配置文件
│   ├── ISSUE_TEMPLATE                                      # 问题提交参考模板
│   │   ├── bug_report.md							     # 报告问题
│   │   └── feature_request.md                              # 新需求建议
│   ├── workflows                                           # git 工作流
│   │   └── linter.yml
```

- .husky：GitHooks 工具，用于在 git 执行某些操作（比如 commmit）时触发设定的脚本，比如 commit 前配合 lint 检验提交格式是否规范

```
├── .husky (可选)										# 提交校验配置文件
│   │   ├── _
│   │   |	├── .gitignore
│   │   |	└── husky.sh
│   │   ├── commit-msg
│   │   ├── common.sh
│   │   ├── lintstagedrc.js
│   │   └── pre-commit
```

同时在 package.json 中作配置

```json
 "scripts": {
  "lint:eslint": "eslint --cache --max-warnings 0  \"{src,mock}/**/*.{vue,ts,tsx}\" --fix",
  "lint:prettier": "prettier --write  \"src/**/*.{js,json,tsx,css,less,scss,vue,html,md}\"",
  "lint:stylelint": "stylelint --cache --fix \"**/*.{vue,css,scss,postcss,less}\" --cache --cache-location node_modules/.cache/stylelint/",
  "lint:lint-staged": "lint-staged -c ./.husky/lintstagedrc.js",
  "lint:pretty": "pretty-quick --staged",
  "lint": "pnpm lint:eslint && pnpm lint:prettier && pnpm lint:stylelint && pnpm lint:pretty",
  "prepare": "husky install",
 },
```

安装 husky 后执行 "prepare": "husky install"，会自动生成如下结构

```
├── .husky (可选)										# 提交校验配置文件
│   │   ├── _
│   │   |	├── .gitignore
│   │   |	└── husky.sh
```

本项目中还增添了一个提交检验的配置文件 commilint.config.js

- .vscode：IDE 工具中恰当的配置能够极大的提高我们的开发效率和开发乐趣 ~~~ 饭菜已备好，请尽情享用 ~

```
├── .vscode (可选)									# IDE工具推荐配置文件（开发辅助）
│   │   ├── settings.json（可自定义）						 # vscode 配置
│   │   ├── vue3.0.code-snippets（如果你想用的话）            # vue3.0代码片段模板
│   │   └── vue3.2.setup-snippets（推荐）				   # vue3.2代码片段模板
```

- build：自定义文件，非核心代码，项目中用来做跨域和环境配置

```
├── build											 👉  跨域代理配置
│   ├── proxy.ts
│   └── utils.ts
```

跨域代理相关在 vite.config.ts 中处理

```js
export default ({ command, mode }: ConfigEnv): UserConfigExport => {
  const { VITE_PORT, VITE_PUBLIC_PATH, VITE_PROXY } = warpperEnv(
    loadEnv(mode, root)
  );
  const prodMock = true;
  return {
    /**
     * 基本公共路径
     * /manages/ 可根据项目部署域名的后缀自行填写（全局搜/manages/替换）
     * @default '/'
     */
    base:
      process.env.NODE_ENV === "production" ? "/manages/" : VITE_PUBLIC_PATH,
    root,
    resolve: {
      alias
    },
    // 服务端渲染
    server: {
      // 是否开启 https
      https: false,
      /**
       * 端口号
       * @default 3000
       */
      port: VITE_PORT,
      host: "0.0.0.0",
      // 本地跨域代理
      proxy: createProxy(VITE_PROXY)
    },
    ...
}    
```

- mock：模拟后台接口的调用

```
├── mock											 👉  mock 模拟后台数据（http://mockjs.com/）
│   │   ├── asyncRoutes.ts								   # 动态路由
│   │   ├── echarts.ts                                        # echarts 数据
│   │   └── map.ts                                            # map 数据
```

- public：静态资源

```
├── public											 # 静态资源
│   │   ├── html（可删除）                                     # 临时放置按钮
│   │   │   └── button.html
│   │   ├── favicon.ico
│   │   ├── iconfont.css
│   │   ├── serverConfig.json
│   │   └── sortable.min.js
```

- types：全局 TS 类型配置

```
├── types                                                # 全局 TS 类型配置
│   │   ├── global.d.ts
│   │   ├── shims-tsx.d.ts
│   │   ├── shims-vue.d.ts
│   │   └── index.d.ts
```

### 核心

```
├── src										         👉 项目源代码
│   ├── api                                                  # 请求 api 
│   ├── assets                                               # 字体、图片等静态资源
│   ├── components                                           # 全局自定义公用组件
│   ├── config                                               # 项目源代码全局配置
│   ├── directives                                           # 全局自定义指令
│   ├── layout                                               # 主要页面布局
│   ├── plugins                                              # 项目主要使用的插件
│   ├── router                                               # 路由配置
│   ├── store                                                # 全局状态管理
│   ├── style                                                # 全局样式
│   ├── utils                                                # 全局工具方法
│   ├── views                                                # 全局单页面组件
│   ├── App.vue                                              # 入口页面
│   ├── main.ts                                              # 入口文件
│   └── mockProdServer.ts                                    # mock 服务相关
```

- api：后端数据请求接口

```
│   ├── api                                             # 请求 api 
│   │   ├── mock.ts                                         # mock 模拟数据     
│   │   ├── routes.ts                                       # 路由数据
│   │   └── user.ts                                         # 用户数据
```

- assets：src 内使用的静态资源文件

```
│   ├── assets                                          # 字体、图片等静态资源
│   │   ├── iconfont
│   │   ├── svg
│   │   └── ...
```

- components：全局自定义组件

```
│   ├── components									 # 全局自定义公用组件
│   │   ├── ReCharts
│   │   ├── RecountTo
│   │   ├── ReCropper
│   │   ├── ReFlop
│   │   ├── ReFlowChart
│   │   ├── ReIcon
│   │   ├── ReMap
│   │   ├── ReSeamlessScroll
│   │   ├── ReSelector
│   │   └── ReSplitPane
```

- config：全局配置（这里获取动态全局配置，public文件下为此自定义了一个开发环境下的默认配置）

- directives：全局自定义指令（方便逻辑处理）

```
│   ├── directives								     # 全局自定义指令
│   │   ├── elResizeDetector
│   │   ├── permission
│   │   └── index.ts
```

- layout：页面布局

```
│   ├── layout									     # 主要页面布局
│   │   ├── components                                      # 布局组件
│   │   │   ├── panel
│   │   │   ├── screenfull
│   │   │   ├── setting
│   │   │   ├── sidebar
│   │   │   │   ├── breadCrumb.vue
│   │   │   │   ├── hamBurger.vue
│   │   │   │   ├── horizontal.vue
│   │   │   │   ├── logo.vue
│   │   │   │   ├── sidebarItem.vue
│   │   │   │   └── vertical.vue
│   │   │   ├── tag
│   │   │   ├── appMain.vue
│   │   │   └── navbar.vue
│   │   ├── index.vue                                       # 布局容器主体
│   │   └── types.ts                                        # 局部类型定义
```

- plugins：开发插件使用及配置

```
│   ├── plugins										 # 项目主要使用的开发插件
│   │   ├── echarts                                          # echarts 可视化图表
│   │   │   ├── index.ts
│   │   │   └── theme-json
│   │   ├── element-plus                                     # UI 组件
│   │   ├── i18n                                             # 国际化
│   │   │   ├── config.ts
│   │   │   └── index.ts
│   │   └── vxe-table                                        # 表格
```

- router：全局路由模块

```
│   ├── router										 # 路由配置
│   │   ├── modules										 # 模块化路由配置
│   │   │   ├── components.ts
│   │   │   ├── editor.ts
│   │   │   ├── error.ts
│   │   │   ├── externalLink.ts
│   │   │   ├── flowchart.ts
│   │   │   ├── home.ts
│   │   │   ├── nested.ts
│   │   │   └── remaining.ts
│   │   └── index.ts									 # 路由主入口
```

- store：全局状态管理

```
│   ├── store										 # 全局状态管理
│   │   ├── modules										 # 模块化状态
│   │   │   ├── app.ts
│   │   │   ├── permission.ts
│   │   │   ├── settings.ts
│   │   │   └── types.ts
│   │   └── index.ts									 # 状态主入口
```

- style：全局样式配置

```
│   ├── style										 # 全局样式
│   │   ├── element-plus.scss
│   │   ├── index.scss
│   │   ├── mixin.scss
│   │   ├── sidebar.scss
│   │   └── transition.scss
```

- utils：封装的方法工具

```
│   ├── utils										 # 全局方法工具
│   │   ├── algorithm
│   │   ├── debounce
│   │   ├── deviceDtection
│   │   ├── http
│   │   ├── loaders
│   │   ├── message
│   │   ├── operate
│   │   ├── progress
│   │   ├── resize
│   │   └── storage
│   │   ├── is.ts
│   │   ├── link.ts
│   │   ├── mitt.ts
│   │   ├── propTypes.ts
│   │   ├── useAttrs.ts
│   │   ├── useCopyToClipboard.ts
│   │   └── uuid.ts
```

- views：核心页面组件

```
│   ├── views										  # 全局单页面组件
│   │   ├── components                                        # 局部自定义组件
│   │   │   ├── button
│   │   │   ├── contextmenu
│   │   │   │   ├── basic.vue
│   │   │   │   ├── menuDynamic.vue
│   │   │   │   ├── menuGroup.vue
│   │   │   │   └── index.vue
│   │   │   ├── count-to
│   │   │   ├── cropping
│   │   │   ├── draggable
│   │   │   ├── map
│   │   │   ├── seamless-scroll
│   │   │   ├── selector
│   │   │   ├── split-pane
│   │   │   └── video
│   │   ├── editor                                            # 编辑页面
│   │   ├── error                                             # 错误页面
│   │   │   ├── 401.vue
│   │   │   └── 404.vue
│   │   ├── flow-chart                                        # 流程图                            
│   │   │   ├── dataTurbo.json
│   │   │   └── index.vue
│   │   ├── nested                                            # 局部菜单栏列表
│   │   │   ├── menu1
│   │   │   │   ├── menu1-1
│   │   │   │   ├── menu1-2
│   │   │   │   │   ├── menu1-2-1
│   │   │   │   │   ├── menu1-2-2
│   │   │   │   │   └── index.vue
│   │   │   │   ├── menu1-3
│   │   │   │   └── index.vue
│   │   │   └── menu2
│   │   ├── permission                                         # 权限页面
│   │   │   ├── button
│   │   │   └── page
│   │   ├── system                                             # 系统操作页面
│   │   │   ├── dict
│   │   │   └── user
│   │   ├── login.vue                                          # 登录页面
│   │   ├── redirect.vue                                       # 重定向页面
│   │   ├── register.vue                                       # 注册页面
│   │   ├── welcome.vue                                        # 欢迎页面
│   │   └── type.ts                                            # 局部类型定义
```

-  App.vue 和 main.ts 不用多说，为整个项目的核心入口。最后一个 mockProdServer.ts 文件用来配合 vite 处理 mock 模拟数据。



