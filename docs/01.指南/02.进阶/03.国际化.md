---
title: 国际化
date: 2021-11-30
permalink: /pages/7dd925/
article: false
---

平台内置了国际化，支持自定义国际化、element-plus 国际化及 vxe-table 国际化

## vscode 插件

如果您使用的编辑器是 `vscode` 请安装插件 `i18n Ally` 以便带来更友好的国际化提示
![i18nAlly](/img/guide/i18nAlly.png)

当然不要忘记把下图红框包起来的代码添加到您 `vscode` 的 `settings.json` 中

![settings](/img/guide/settings.png)

```sh
  "i18n-ally.localesPaths": ["src/plugins/i18n"],
  "i18n-ally.keystyle": "nested",
  "i18n-ally.sortKeys": true,
  "i18n-ally.namespace": true,
  "i18n-ally.pathMatcher": "{locale}/{namespaces}.{ext}",
  "i18n-ally.enabledParsers": ["ts"],
  "i18n-ally.sourceLanguage": "en",
  "i18n-ally.displayLanguage": "zh-CN",
  "i18n-ally.enabledFrameworks": ["vue", "react"]
```

![vscode](/img/guide/vscode.png)

## 注入国际化

![i18n](/img/guide/i18n.png)
如上图：中文添加到 `zh-CN` 文件夹下，英文添加到 `en` 文件夹下  
使用方法如下：(比如上图蓝框框选的`hsLoginOut`，按照文件名加国际化命名结构即可)

```sh
$t('buttons.hsLoginOut')
```

当然它是灵活的，如下图（支持多层嵌套结构）  
![i18n](/img/guide/i18n2.png)

::: warning

精简版完全剔除了 vxe-table，如果需要 vxe-table 国际化请参考完整版[vxe-table/index.ts](https://gitee.com/yiming_chang/vue-pure-admin/blob/main/src/plugins/vxe-table/index.ts#L65) <Badge text="代码"/>

:::

## 用法

- 如何配合 `i18n Ally` 插件带来智能提示（无实际意义，只对提示起作用）
<!-- https://gitee.com/yiming_chang/vue-pure-admin/blob/main/src/plugins/i18n/index.ts#L63 -->

① 在 ts 文件中使用

```sh
import { $t } from "/@/plugins/i18n";
$t("menus.hslogin")
```

效果
![i18n](/img/guide/i18nRouter.png)

① 在 vue 文件中使用

由于导出的`$t`和`vue-i18n`的`$t`名称重复，这里使用`as`添加别名（对于`i18n Ally` 插件来说要想得到智能提示必须使用带有`t`的别名而且`t`永远在最后一位，例如`$$t`、`&t` 类似格式都是生效的，而`$t$`、`t&`不生效）

```sh
import { $t as t } from "/@/plugins/i18n";
t("buttons.hsreload")
```

效果
![i18n](/img/guide/i18nTag.png)

- 国际化函数、方法[tag/index.vue](https://gitee.com/yiming_chang/vue-pure-admin/blob/main/src/layout/components/tag/index.vue#L688) <Badge text="代码"/>
  在`template`中

  [vue-i18n 文档](https://vue-i18n.intlify.dev/guide/#html) <Badge text="vue-i18n文档"/>

  ```sh
  {{ $t(item.text) }}
  ```

平台提供`transformI18n`国际化转换工具函数[transformI18n](https://gitee.com/yiming_chang/vue-pure-admin/blob/main/src/plugins/i18n/index.ts#L14) <Badge text="代码"/>

```sh
import { transformI18n } from "/@/plugins/i18n";
document.title = transformI18n(
  item.meta.title as string,
  item.meta?.i18n as boolean
))
```
