---
title: 图标
date: 2022-10-31
permalink: /pages/icon/
---

- 图标是文字的隐喻，可以实现视觉引导和功能划分。平台内置多种图标解决方案，满足 `99.99%` 的图标场景需求

## 图标组件、图标 hooks、svg 插件

### 三个图标组件

- 三个图标组件均已 [全局注册](https://gitee.com/yiming_chang/pure-admin-thin/blob/main/src/main.ts#L37)

本地图标组件 [IconifyIconOffline](https://gitee.com/yiming_chang/pure-admin-thin/blob/main/src/components/ReIcon/src/iconifyIconOffline.ts) 、在线图标组件 [IconifyIconOnline](https://gitee.com/yiming_chang/pure-admin-thin/blob/main/src/components/ReIcon/src/iconifyIconOnline.ts) 、iconfont 组件 [FontIcon](https://gitee.com/yiming_chang/pure-admin-thin/blob/main/src/components/ReIcon/src/iconfont.ts)

### 一个通用图标 `hooks`

- [useRenderIcon](https://gitee.com/yiming_chang/pure-admin-thin/blob/main/src/components/ReIcon/src/hooks.ts)

#### 参数

- 接收二个参数，第一个参数 `icon` ，第一个参数 `attrs` ，无返回值类型 `Component`

| **参数属性** | **说明**                                                                                                                                    | **类型**                         |
| ------------ | ------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------- |
| `icon`       | 图标                                                                                                                                        | `FunctionalComponent` 、`string` |
| `attrs`      | 图标属性、样式配置，拥有十五个属性，具体看 `https://gitee.com/yiming_chang/pure-admin-thin/blob/main/src/components/ReIcon/src/types.ts#L1` | `iconType`                       |

#### 基础用法

::: details

```Vue
<script setup lang="ts">
import dayIcon from "@/assets/svg/day.svg?component";
import { useRenderIcon } from "@/components/ReIcon/src/hooks";
</script>

<template>
  <div>
    <!-- 下面的component、el-input、el-button只是举例用，useRenderIcon不局限于这些，它支持任何可以用函数渲染图标的组件或者hooks -->

    <!-- 传组件类型图标 -->
    <component :is="useRenderIcon(dayIcon)" />

    <!-- 传字符串类型图标，分本地、在线图标模式 -->
    <!-- 本地图标模式 -->
    <el-input :prefix-icon="useRenderIcon('user')" />
    <!-- 在线图标模式，只需要在第二个参数加上 { online: true } 即可 -->
    <el-input :prefix-icon="useRenderIcon('ri:shield-keyhole-line', { online: true })" />

    <!-- 传组件类型图标 -->
    <el-button :icon="useRenderIcon(dayIcon)">Test</el-button>
  </div>
</template>
```

:::

#### 类型

::: details

```ts
export interface iconType {
  // iconify (https://docs.iconify.design/icon-components/vue/#properties)
  inline?: boolean;
  width?: string | number;
  height?: string | number;
  horizontalFlip?: boolean;
  verticalFlip?: boolean;
  flip?: string;
  rotate?: number | string;
  color?: string;
  horizontalAlign?: boolean;
  verticalAlign?: boolean;
  align?: string;
  online?: boolean;
  onLoad?: Function;
  includes?: Function;
  //  all icon
  style?: object;
}
```

:::

### `svg` 插件

- 平台引入了 [vite-svg-loader](https://www.npmjs.com/package/vite-svg-loader) 这款支持 `svg` 的 `vite`插件 , 您可以像引入 `vue` 组件一样引入 `svg`

```Vue
<script setup lang="ts">
// svg后面加?component代表将其作为Vue组件引入，以获取更好的类型声明，更多写法请看 https://github.com/jpkleemans/vite-svg-loader#import-params
import backTop from "@/assets/svg/back_top.svg?component";
</script>

<template>
  <backTop />
</template>
```

## 本地图标

- 本地图标是指通过本地安装各类图标库依赖包或者本地引入静态资源（比如 `iconfont`、`svg` ）的图标

## 在线图标

- 在线图标是指可以通过公网访问的图标

## 离线图标

- 离线图标是指只能通过内网访问的图标

## @iconify-icons/ep

平台使用了 `@iconify-icons/ep` 替代了 `element-plus/icons` ，因为 `iconify` 更加强大，并且它也收录了 `Element Plus` 的图标集，详情看 [ep](https://icon-sets.iconify.design/ep) ，它是统一的图标框架，超过 `100` 个图标集都集中在这一个库，超过 `100,000` 个开源矢量图标，并且会定时更新相关图标。  
您可以在这里了解 [iconify](https://icon-sets.iconify.design/)

### 用法

如何通过 `iconify` 引入 `Element Plus` 的图标集呢？  
步骤：（当然您不需要执行下面的命令，平台已经安装过了）

```sh
pnpm add @iconify/vue @iconify-icons/ep -D
```

`iconify` 分为在线包（外网使用）和离线包（内网使用）  
在线包使用参考 [iconifyIconOnline.ts](https://gitee.com/yiming_chang/pure-admin-thin/blob/main/src/components/ReIcon/src/iconifyIconOnline.ts)  
离线包使用参考 [iconifyIconOffline.ts](https://gitee.com/yiming_chang/pure-admin-thin/blob/main/src/components/ReIcon/src/iconifyIconOffline.ts)  
在这里 [ReIcon/index.ts](https://gitee.com/yiming_chang/pure-admin-thin/blob/main/src/components/ReIcon/index.ts#L147)我们把封装的两个组件( `IconifyIconOnline` ， `IconifyIconOffline` ) 导出，又在这里 [main.ts](https://gitee.com/yiming_chang/pure-admin-thin/blob/main/src/main.ts#L38) 我们把这两个组件全局注入，所以您可以直接在项目里面像下面这样用

- `IconifyIconOnline`（ `iconify` 在线组件，这个就很方便了，您可以使用 [iconify](https://icon-sets.iconify.design) 这里的所有图标，但前提是您的项目有外网环境）

```sh
<IconifyIconOnline icon="user" />
<br />
<IconifyIconOnline type="ant-design:" icon="account-book-filled" />
<br />
<IconifyIconOnline type="noto:" icon="artist-medium-skin-tone" />
```

![iconify-user](~@alias/img/guide/iconify-user.png)
![iconify](~@alias/img/guide/iconify.png)

- `IconifyIconOffline`（ `iconify` 离线组件，精简版中离线的只能使用 [`Element Plus`](https://element-plus.org/zh-CN/component/icon.html#%E5%9B%BE%E6%A0%87%E9%9B%86%E5%90%88) 和 [`remixicon`](https://remixicon.com/) 的图标集哦，因为针对离线图标集，平台只安装了 [@iconify-icons/ep](https://www.npmjs.com/package/@iconify-icons/ep) 和 [@iconify-icons/ri](https://www.npmjs.com/package/@iconify-icons/ri)，如何您需要别的图标集，比如 [Ant Design Icons](https://icon-sets.iconify.design/ant-design/) ，安装 [@iconify-icons/ant-design](https://www.npmjs.com/package/@iconify-icons/ant-design) 即可）

```sh
<IconifyIconOffline icon="user" />
```

### Hooks

平台内置了 [`useRenderIcon`](https://gitee.com/yiming_chang/pure-admin-thin/blob/main/src/components/ReIcon/src/hooks.ts#L11) 这个 `hook` ，方便您在函数中渲染图标组件，以及它支持传`attr`， [具体用法参考](https://gitee.com/yiming_chang/pure-admin-thin/blob/main/src/views/permission/page/index.vue#L48)

## 视频教程

具体使用请查看视频教程[pure-admin 之图标篇](https://www.bilibili.com/video/BV1G3411J74q/) <Badge text="视频教程"/>

## 离线部署图标方案

[iconify-offline-arrange](https://github.com/xiaoxian521/iconify-offline-arrange#-%E8%A7%86%E9%A2%91%E6%95%99%E7%A8%8B%E5%AD%98%E6%94%BE%E4%BA%8Ebilibili)
