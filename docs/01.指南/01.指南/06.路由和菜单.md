---
title: 路由、菜单
date: 2021-11-16
permalink: /pages/782b6e/
article: false
---

### 配置项

```ts
const routes = {
  // 路由地址
  path: "/permission",
  // 路由名字（对应不要重复）
  name: "permission",
  // Layout组件，一般不用动（如需整体空白页面，请去掉）
  component: Layout,
  // 路由重定向
  redirect: "/permission/page",
  meta: {
    // 菜单名称（兼容国际化、非国际化，非国际化的话可以直接title写中文，i18n可写false，也可直接不加i18n这个字段）
    title: "message.permission",
    // 菜单图标（只针对顶级路由，也就是与当前meta平级的component为Layout的路由）
    icon: "Lollipop",
    // 国际化（开启 true、关闭 false）
    i18n: true,
    // 是否在菜单中显示
    showLink: true,
    // 菜单升序排序，值越高排的越后（只针对顶级路由，也就是与当前meta平级的component为Layout的路由）
    rank: 4,
  },
  // 子路由配置项
  children: [
    {
      // 子路由地址
      path: "/permission/page",
      // 路由名字（对应不要重复，根当前组件的name保持一致）
      name: "permissionPage",
      // 按需加载组件
      component: () => import("/@/views/permission/page/index.vue"),
      meta: {
        // 菜单名称（兼容国际化、非国际化，非国际化的话可以直接title写中文，i18n可写false，也可直接不加i18n这个字段）
        title: "message.permissionPage",
        // 国际化（开启 true、关闭 false）
        i18n: true,
        // 是否在菜单中显示
        showLink: true,
        // 路由权限设置
        authority: ["admin"],
        // 路由组件缓存（开启 true、关闭 false）
        keepAlive: true,
        // 页面加载动画（有两种形式，一种直接采用vue内置的transitions动画，另一种是使用animate.css写进、离场动画）
        transition: {
          // 当前路由动画效果，参考https://next.router.vuejs.org/guide/advanced/transitions.html#transitions
          name: "fade",
          // 进场动画
          enterTransition: "animate__zoomIn",
          // 离场动画
          leaveTransition: "animate__zoomOut",
        },
        // 动态路由可打开的最大数量
        dynamicLevel: 3,
        // 刷新重定向（用于未开启标签页缓存，刷新页面获取不到动态title）
        refreshRedirect: "/tabs/index",
      },
      // 菜单名称右侧的额外图标，支持fontawesome、iconfont、element-plus-icon
      extraIcon: {
        svg: true,
        name: "team-iconxinpinrenqiwang",
      },
    },
  ],
};
```

### 支持图标库类型（meta 下的 icon）

内置 `fontawesome4`、`fontawesome5+`、`iconfont`、`remixicon`、`element-plus/icons`、`自定义svg` 满足绝大多数场景，当然您还可以在这里添加更多的图标库[ReIcon/index.ts](https://gitee.com/yiming_chang/vue-pure-admin/blob/main/src/components/ReIcon/index.ts) <Badge text="代码"/>

### 具体用法（meta 下的 icon）

```sh
# fontawesome4 (以 fa- 开头)
icon: "fa-fa-spinner"
# 如果需要它动起来，您可这么设置，注意fa-spin前面有个空格哦
icon: "fa-fa-spinner fa-spin"
```

```sh
# fontawesome5+ (以 FA- 开头)
icon: "FA-spinner"
# 如果需要它动起来，您可这么设置，注意fa-spin前面有个空格哦
icon: "FA-spinner spin"
```

注意：fontawesome5+ 以组件形式引入 icon，所以需要按需引入 icon 组件，[具体代码位置](https://gitee.com/yiming_chang/vue-pure-admin/blob/main/src/plugins/fontawesome/index.ts#L9) <Badge text="代码"/>

```sh
# iconfont (以 IF- 开头)
icon: "IF-team-icontabs"
```

```sh
# remixicon (以 RI- 开头)
icon: "RI-node-tree"
```

```sh
# element-plus/icons
icon: "HomeFilled"
```

注意：element-plus 以组件形式引入 icon，所以需要按需引入 icon 组件，[具体代码位置](https://gitee.com/yiming_chang/vue-pure-admin/blob/main/src/plugins/element-plus/index.ts#L103) <Badge text="代码"/>

```sh
# 自定义svg
import refresh from "/@/assets/svg/refresh.svg";
icon: refresh
```

### 重置路由（主要用于用户角色切换）

[resetRouter](https://gitee.com/yiming_chang/vue-pure-admin/blob/main/src/router/utils.ts#L97) <Badge text="代码"/>

```sh
import { resetRouter } from "/@/router/utils"
resetRouter()
```
